-- DROP SCHEMA public;

CREATE SCHEMA public AUTHORIZATION pg_database_owner;

-- DROP SEQUENCE public.student_id_seq;

CREATE SEQUENCE public.student_id_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 9223372036854775807
	START 1
	CACHE 1
	NO CYCLE;
-- DROP SEQUENCE public.test_column2_seq;

CREATE SEQUENCE public.test_column2_seq
	INCREMENT BY 1
	MINVALUE 1
	MAXVALUE 2147483647
	START 1
	CACHE 1
	NO CYCLE;-- public.test определение

-- Drop table

-- DROP TABLE test;

CREATE TABLE test (
	id int8 GENERATED ALWAYS AS IDENTITY NOT NULL,
	"name" varchar(200) NOT NULL,
	CONSTRAINT test_pk PRIMARY KEY (id)
);


-- public.question определение

-- Drop table

-- DROP TABLE question;

CREATE TABLE question (
	id int8 GENERATED ALWAYS AS IDENTITY NOT NULL,
	id_test int8 NOT NULL,
	"number" int4 NOT NULL,
	question varchar(500) NOT NULL,
	CONSTRAINT question_pk PRIMARY KEY (id),
	CONSTRAINT question_test_fk FOREIGN KEY (id_test) REFERENCES test(id)
);


-- public.answers определение

-- Drop table

-- DROP TABLE answers;

CREATE TABLE answers (
	id int8 GENERATED ALWAYS AS IDENTITY NOT NULL,
	answer varchar(200) NOT NULL,
	id_question int8 NOT NULL,
	accuracy bool DEFAULT false NOT NULL,
	CONSTRAINT answers_pk PRIMARY KEY (id),
	CONSTRAINT answers_question_fk FOREIGN KEY (id_question) REFERENCES question(id)
);


-- public.student определение

-- Drop table

-- DROP TABLE student;

CREATE TABLE student (
	id int8 GENERATED ALWAYS AS IDENTITY NOT NULL,
	"name" varchar(200) NOT NULL,
	id_test int8 NOT NULL,
	time_of_delivery time NOT NULL,
	CONSTRAINT test_primary_key PRIMARY KEY (id),
	CONSTRAINT student_test_fk FOREIGN KEY (id_test) REFERENCES test(id)
);
